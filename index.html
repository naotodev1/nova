<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L√∫men</title>
    <link rel="icon" type="image/png" href="https://i.imgur.com/I1w6ZV6.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-blue: #2563eb;
            --primary-blue-dark: #1d4ed8;
            --primary-purple: #7c3aed;
            --primary-purple-dark: #6d28d9;
            --bg-dark-primary: #1a2436;
            --bg-dark-secondary: #1e2b3f;
            --bg-dark-tertiary: #2d3748;
            --border-color: #4a5568;
            --text-primary: #e5e7eb;
            --text-secondary: #9ca3af;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0f1b33 0%, #1e3a5f 100%);
            color: #fff;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            width: 100%;
            max-width: 500px;
            height: 90vh;
            max-height: 800px;
            background-color: var(--bg-dark-secondary);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        .header {
            background: linear-gradient(90deg, var(--primary-blue) 0%, #3b82f6 100%);
            padding: 18px;
            text-align: left;
            position: relative;
            display: flex;
            align-items: center;
            gap: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            flex-shrink: 0;
        }
        
        .avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 2px solid white;
            overflow: hidden;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);
        }
        
        .avatar img { width: 100%; height: 100%; object-fit: cover; }
        .header-text { flex: 1; }
        .header h1 { font-size: 22px; margin-bottom: 4px; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3); font-weight: 600; }
        .header p { font-size: 13px; opacity: 0.9; }
        .header-icons { display: flex; gap: 16px; font-size: 1.2rem; }
        .header-icon { cursor: pointer; color: rgba(255, 255, 255, 0.9); transition: color 0.2s; }
        .header-icon:hover { color: white; }
        
        .chat-container {
            flex-grow: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            background-color: var(--bg-dark-primary);
        }
        
        .message { max-width: 80%; padding: 12px 16px; border-radius: 18px; line-height: 1.4; animation: fadeIn 0.3s ease; position: relative; font-size: 15px; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .bot-message { background: linear-gradient(90deg, #4f46e5 0%, var(--primary-purple) 100%); align-self: flex-start; border-bottom-left-radius: 5px; color: white; }
        .user-message { background: var(--bg-dark-tertiary); align-self: flex-end; border-bottom-right-radius: 5px; color: white; border: 1px solid var(--border-color); }
        .message-time { font-size: 11px; opacity: 0.7; display: block; margin-top: 6px; text-align: right; }
        
        .input-area { display: flex; padding: 16px; background-color: var(--bg-dark-secondary); gap: 12px; border-top: 1px solid var(--border-color); flex-shrink: 0; }
        input { flex: 1; padding: 14px 16px; border: 1px solid var(--border-color); border-radius: 24px; background-color: var(--bg-dark-tertiary); color: white; font-size: 15px; }
        input:focus { outline: none; border-color: var(--primary-blue); background-color: #374151; }
        input::placeholder { color: var(--text-secondary); }
        button { background: linear-gradient(90deg, var(--primary-blue) 0%, #3b82f6 100%); border: none; border-radius: 50%; width: 48px; height: 48px; color: white; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; justify-content: center; }
        button:hover { transform: scale(1.05); background: linear-gradient(90deg, var(--primary-blue-dark) 0%, var(--primary-blue) 100%); }
        
        .quick-replies { display: flex; flex-wrap: wrap; gap: 8px; padding: 12px 16px; background-color: var(--bg-dark-secondary); border-top: 1px solid var(--border-color); flex-shrink: 0; }
        .quick-reply { background: linear-gradient(90deg, #4f46e5 0%, var(--primary-purple) 100%); padding: 8px 16px; border-radius: 18px; font-size: 13px; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; gap: 8px; }
        .quick-reply:hover { transform: scale(1.05); background: linear-gradient(90deg, #4338ca 0%, var(--primary-purple-dark) 100%); }
        
        .typing-indicator { display: none; padding: 12px 16px; color: var(--text-secondary); font-style: italic; font-size: 14px; background-color: var(--bg-dark-primary); }
        
        .footer { padding: 12px; background-color: var(--bg-dark-primary); text-align: center; border-top: 1px solid var(--border-color); font-size: 12px; color: var(--text-secondary); display: flex; flex-direction: column; gap: 4px; flex-shrink: 0; }
        .studio { font-weight: 600; color: #3b82f6; }
        .slogan { font-style: italic; }
        
        /* Recommendation Cards */
        .recommendation { background: rgba(0, 0, 0, 0.2); padding: 10px; border-radius: 10px; margin-top: 8px; font-size: 14px; border-left: 3px solid; }
        .anime-card { border-color: #fbbf24; }
        .music-card { border-color: #10b981; }
        .quote-card { border-color: #f97316; }
        .rec-title { font-weight: bold; }
        .anime-title { color: #fbbf24; }
        .music-title { color: #10b981; }
        .quote { font-style: italic; color: #f97316; }

        /* MODALS */
        .modal-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.6); display: none; justify-content: center; align-items: center; z-index: 100; opacity: 0; transition: opacity 0.3s ease; }
        .modal-overlay.active { display: flex; opacity: 1; }
        .modal-content { background-color: var(--bg-dark-secondary); width: 90%; padding: 20px; border-radius: 16px; box-shadow: 0 5px 25px rgba(0,0,0,0.5); transform: scale(0.95); transition: transform 0.3s ease-out; }
        .modal-overlay.active .modal-content { transform: scale(1); }
        .modal-header { font-size: 1.1rem; font-weight: 600; color: var(--text-primary); margin-bottom: 20px; }
        
        .explore-card { display: flex; align-items: center; gap: 15px; background-color: var(--bg-dark-tertiary); border-radius: 12px; padding: 12px; margin-bottom: 12px; text-decoration: none; color: var(--text-primary); border: 1px solid var(--border-color); }
        .explore-card img { width: 40px; height: 40px; border-radius: 8px; }
        .explore-card i { width: 40px; text-align: center; font-size: 1.5rem; color: #60a5fa; }
        .explore-card .card-text strong { font-size: 1rem; }
        .explore-card .card-text span { font-size: 0.85rem; color: var(--text-secondary); }
        
        .setting-row { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; }
        .toggle-switch { position: relative; display: inline-block; width: 51px; height: 31px; }
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: var(--border-color); transition: .4s; border-radius: 34px; }
        .slider:before { position: absolute; content: ""; height: 23px; width: 23px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--primary-blue); }
        input:checked + .slider:before { transform: translateX(20px); }

        .toast { position: absolute; bottom: -50px; left: 50%; transform: translateX(-50%); background-color: rgba(0, 0, 0, 0.8); color: white; padding: 10px 20px; border-radius: 20px; font-size: 0.9rem; z-index: 200; opacity: 0; transition: opacity 0.3s, bottom 0.3s; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="avatar"><img src="https://i.imgur.com/I1w6ZV6.png" alt="Nova Avatar"></div>
            <div class="header-text">
                <h1>L√∫men</h1>
                <p>Seu assistente virtual inteligente</p>
            </div>
            <div class="header-icons">
                <i class="fas fa-share-alt header-icon" id="shareBtn" title="Compartilhar"></i>
                <i class="fas fa-compass header-icon" id="exploreBtn" title="Explorar"></i>
                <i class="fas fa-cog header-icon" id="settingsBtn" title="Configura√ß√µes"></i>
            </div>
        </div>
        
        <div class="chat-container" id="chatContainer">
            <!-- As mensagens ser√£o inseridas aqui via JS -->
        </div>
        
        <div class="typing-indicator" id="typingIndicator">
            <i class="fas fa-comment-dots"></i> L√∫men est√° digitando...
        </div>
        
        <div class="quick-replies" id="quickReplies">
            <div class="quick-reply" data-reply="Como voc√™ funciona?"><i class="fas fa-cogs"></i> Como voc√™ funciona?</div>
            <div class="quick-reply" data-reply="Indica um anime"><i class="fas fa-dragon"></i> Indica um anime</div>
            <div class="quick-reply" data-reply="Indica uma m√∫sica"><i class="fas fa-music"></i> Indica uma m√∫sica</div>
            <div class="quick-reply" data-reply="Frase motivacional"><i class="fas fa-sun"></i> Frase motivacional</div>
        </div>
        
        <div class="input-area">
            <input type="text" id="userInput" placeholder="Digite sua mensagem..." autocomplete="off">
            <button id="sendButton" title="Enviar"><i class="fas fa-paper-plane"></i></button>
        </div>
        
        <div class="footer">
            <div class="studio">Este √© um produto da Studio Tsukiyo Platforms</div>
            <div class="slogan">Powered by Naoto Dev</div>
        </div>

        <!-- MODALS -->
        <div class="modal-overlay" id="modalOverlay">
            <div class="modal-content" id="exploreModal">
                <h3 class="modal-header">Conhe√ßa tamb√©m:</h3>
                <a href="https://naotodev1.github.io/sophia/" target="_blank" class="explore-card">
                    <img src="https://i.imgur.com/vH5122F.png" alt="Sophia Logo">
                    <div class="card-text">
                        <strong>Yuki</strong>
                        <span>Uma assistente com m√∫ltiplas personalidades.</span>
                    </div>
                </a>
                <a href="https://naotodev1.github.io/terms-e-policy/" target="_blank" class="explore-card">
                    <i class="fas fa-file-contract"></i>
                    <div class="card-text">
                        <strong>Termos de Uso e Condi√ß√µes</strong>
                        <span>Nossas pol√≠ticas e diretrizes.</span>
                    </div>
                </a>
            </div>
            <div class="modal-content" id="settingsModal">
                <h3 class="modal-header">Configura√ß√µes</h3>
                <div class="setting-row">
                    <span>Notifica√ß√µes</span>
                    <label class="toggle-switch"><input type="checkbox" id="notificationsToggle" checked><span class="slider"></span></label>
                </div>
            </div>
        </div>
        <div class="toast" id="toast"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const elements = {
                chatContainer: document.getElementById('chatContainer'),
                userInput: document.getElementById('userInput'),
                sendButton: document.getElementById('sendButton'),
                typingIndicator: document.getElementById('typingIndicator'),
                shareBtn: document.getElementById('shareBtn'),
                exploreBtn: document.getElementById('exploreBtn'),
                settingsBtn: document.getElementById('settingsBtn'),
                modalOverlay: document.getElementById('modalOverlay'),
                exploreModal: document.getElementById('exploreModal'),
                settingsModal: document.getElementById('settingsModal'),
                toast: document.getElementById('toast'),
            };
            
            const animeRecommendations = [ { title: "Attack on Titan", description: "Um anime √©pico sobre a luta da humanidade contra tit√£s devoradores de humanos.", genre: "A√ß√£o, Fantasia Sombria", year: 2013 }, { title: "Fullmetal Alchemist: Brotherhood", description: "Dois irm√£os buscam a Pedra Filosofal para restaurar seus corpos ap√≥s uma transmuta√ß√£o falha.", genre: "Aventura, Fantasia", year: 2009 }, { title: "My Hero Academia", description: "Em um mundo de super-her√≥is, um jovem sem poderes luta para se tornar o maior her√≥i.", genre: "A√ß√£o, Com√©dia", year: 2016 }, { title: "Demon Slayer", description: "Tanjiro Kamado torna-se um ca√ßador de dem√¥nios para curar sua irm√£. Anima√ß√£o espetacular.", genre: "A√ß√£o, Fantasia", year: 2019 }, { title: "Jujutsu Kaisen", description: "Um estudante se envolve com uma sociedade secreta de Feiticeiros para eliminar uma maldi√ß√£o.", genre: "A√ß√£o, Sobrenatural", year: 2020 } ];
            const musicRecommendations = [ { title: "Blinding Lights", artist: "The Weeknd", genre: "Synth-pop", year: 2019 }, { title: "As It Was", artist: "Harry Styles", genre: "Synth-pop", year: 2022 }, { title: "Bohemian Rhapsody", artist: "Queen", genre: "Rock", year: 1975 }, { title: "Stay", artist: "The Kid LAROI & Justin Bieber", genre: "Pop", year: 2021 }, { title: "Something About Us", artist: "Daft Punk", genre: "Eletr√¥nica", year: 2001 } ];
            const motivationalPhrases = [ "A persist√™ncia √© o caminho do √™xito. - Charles Chaplin", "O √∫nico lugar onde o sucesso vem antes do trabalho √© no dicion√°rio. - Albert Einstein", "N√£o espere por uma crise para descobrir o que √© importante em sua vida. - Plat√£o", "Comece onde voc√™ est√°. Use o que voc√™ tem. Fa√ßa o que voc√™ pode. - Arthur Ashe", "O sucesso √© a soma de pequenos esfor√ßos repetidos dia ap√≥s dia. - Robert Collier" ];
            const generalKnowledge = { "quem √© voc√™": "Eu sou a Nova, sua assistente virtual pessoal! Fui criada pelo Studio Tsukiyo para ser sua companheira inteligente. Estou aqui para ajudar no que precisar!", "o que voc√™ faz": "Posso recomendar animes e m√∫sicas, dar frases motivacionais, conversar sobre diversos assuntos e tentar te ajudar no que for poss√≠vel!", "como voc√™ funciona": "Eu funciono atrav√©s de uma base de conhecimento pr√©-definida e algoritmos de correspond√™ncia de palavras. Sou uma simula√ß√£o de IA, projetada para ser √∫til e amig√°vel!", "que horas s√£o": `Agora s√£o ${new Date().toLocaleTimeString('pt-BR')}. Precisa de mais alguma coisa?`, "studio tsukiyo": "Studio Tsukiyo Platforms √© a equipe de desenvolvimento focada em criar experi√™ncias digitais inovadoras, como eu!", "naoto dev": "Naoto Dev √© o principal desenvolvedor por tr√°s da minha cria√ß√£o. Um programador talentoso que me trouxe √† vida!", "dar feedback": "Voc√™ pode dar seu feedback valioso acessando o link: https://docs.google.com/forms/d/e/1FAIpQLSfZ0Lbr_xsrus2DAKYTOHf_zn3DHKwx8Fwtv-89Q55ivZqzqA/viewform", "termos de uso": "Nossos Termos de Uso e Condi√ß√µes est√£o dispon√≠veis em: https://naotodev1.github.io/terms-e-policy", "sophia": "Sophia √© outra assistente virtual criada pelo nosso est√∫dio. Voc√™ pode conhec√™-la aqui: https://naotodev1.github.io/sophia" };

            function showTypingIndicator() { elements.typingIndicator.style.display = 'block'; elements.chatContainer.scrollTop = elements.chatContainer.scrollHeight; }
            function hideTypingIndicator() { elements.typingIndicator.style.display = 'none'; }
            
            function addMessage(message, isUser) {
                const messageElement = document.createElement('div');
                messageElement.classList.add('message', isUser ? 'user-message' : 'bot-message');
                messageElement.innerHTML = message.replace(/\n/g, '<br>');
                const timeElement = document.createElement('span');
                timeElement.classList.add('message-time');
                timeElement.textContent = new Date().toLocaleTimeString('pt-BR', {hour: '2-digit', minute:'2-digit'});
                messageElement.appendChild(timeElement);
                elements.chatContainer.appendChild(messageElement);
                elements.chatContainer.scrollTop = elements.chatContainer.scrollHeight;
            }
            
            function processUserInput(text = null) {
                const inputText = text || elements.userInput.value.trim();
                if (inputText === '') return;
                addMessage(inputText, true);
                if (!text) elements.userInput.value = '';
                showTypingIndicator();
                setTimeout(() => {
                    hideTypingIndicator();
                    generateResponse(inputText);
                }, 1200 + Math.random() * 500);
            }
            
            function generateResponse(input) {
                const lowerInput = input.toLowerCase();
                let response = "";
                let foundResponse = false;

                for (const [key, value] of Object.entries(generalKnowledge)) {
                    if (lowerInput.includes(key)) {
                        response = value;
                        foundResponse = true;
                        break;
                    }
                }

                if (!foundResponse) {
                    if (lowerInput.includes('anime') || lowerInput.includes('mang√°')) {
                        const random = animeRecommendations[Math.floor(Math.random() * animeRecommendations.length)];
                        response = `Recomendo: <span class="rec-title anime-title">${random.title}</span> (${random.year})\n<div class="recommendation anime-card">${random.description}</div>`;
                    } else if (lowerInput.includes('m√∫sica') || lowerInput.includes('som')) {
                        const random = musicRecommendations[Math.floor(Math.random() * musicRecommendations.length)];
                        response = `Que tal ouvir: <span class="rec-title music-title">${random.title}</span> - ${random.artist} (${random.year})\n<div class="recommendation music-card">G√™nero: ${random.genre}</div>`;
                    } else if (lowerInput.includes('frase') || lowerInput.includes('motiva')) {
                        const random = motivationalPhrases[Math.floor(Math.random() * motivationalPhrases.length)];
                        response = `Aqui est√° uma frase para te inspirar:\n<div class="recommendation quote-card"><span class="quote">${random}</span></div>`;
                    } else if (lowerInput.includes('obrigad')) {
                        response = "De nada! Se precisar de mais alguma coisa, √© s√≥ chamar! üòä";
                    } else if (lowerInput.includes('oi') || lowerInput.includes('ol√°')) {
                        response = "Ol√°! Como vai? Estou aqui para ajudar no que precisar.";
                    } else {
                        response = "N√£o tenho certeza de como responder a isso. Que tal tentar uma das op√ß√µes r√°pidas abaixo?";
                    }
                }
                addMessage(response, false);
            }

            // --- MODAL & TOAST LOGIC ---
            function openModal(modal) { modal.style.display = 'block'; elements.modalOverlay.classList.add('active'); }
            function closeModal() {
                elements.modalOverlay.classList.remove('active');
                setTimeout(() => {
                    elements.exploreModal.style.display = 'none';
                    elements.settingsModal.style.display = 'none';
                }, 300);
            }
            function showToast(message) {
                elements.toast.textContent = message;
                elements.toast.style.opacity = '1';
                elements.toast.style.bottom = '20px';
                setTimeout(() => {
                    elements.toast.style.opacity = '0';
                    elements.toast.style.bottom = '-50px';
                }, 2000);
            }

            // --- EVENT LISTENERS ---
            elements.sendButton.addEventListener('click', () => processUserInput());
            elements.userInput.addEventListener('keypress', e => { if (e.key === 'Enter') processUserInput(); });
            document.querySelectorAll('.quick-reply').forEach(button => {
                button.addEventListener('click', () => processUserInput(button.dataset.reply));
            });
            elements.modalOverlay.addEventListener('click', closeModal);
            elements.exploreBtn.addEventListener('click', () => openModal(elements.exploreModal));
            elements.settingsBtn.addEventListener('click', () => openModal(elements.settingsModal));

            elements.shareBtn.addEventListener('click', async () => {
                const shareData = { title: 'L√∫men', text: 'Conhe√ßa a L√∫men, uma assistente virtual inteligente.', url: 'https://naotodev1.github.io/Nova/' };
                try {
                    if (navigator.share) await navigator.share(shareData);
                    else throw new Error();
                } catch (err) {
                    navigator.clipboard.writeText(shareData.url).then(() => showToast('Link copiado!'));
                }
            });

            // Initial message
            addMessage("Ol√°! Sou a L√∫men. üòä Como posso te ajudar hoje?", false);
        });
    </script>
</body>
</html>
